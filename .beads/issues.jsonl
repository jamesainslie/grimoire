{"id":"grimoire-0ei","title":"Phase 7: Polish and production readiness","description":"Final polish for production use.\n\n## Features\n- Progress reporting during ingestion\n- Incremental updates (only fetch changed)\n- Language/source management commands\n- Stats and diagnostics\n- Error messages and help text\n\n## CLI Commands to Complete\n- grimoire languages list/install\n- grimoire sources list/add\n- grimoire stats\n- grimoire ingest --refresh\n\n## Acceptance Criteria\n- All CLI commands work\n- Progress bars for long operations\n- Helpful error messages\n- README documentation","status":"closed","priority":4,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:11:15.206025-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:33:24.450963-05:00","closed_at":"2026-01-19T11:33:24.450963-05:00","close_reason":"Phase 7 Polish complete: implemented real ingest command, added database stats, created comprehensive README","dependencies":[{"issue_id":"grimoire-0ei","depends_on_id":"grimoire-8ut","type":"blocks","created_at":"2026-01-19T10:11:27.652931-05:00","created_by":"James Ainslie"},{"issue_id":"grimoire-0ei","depends_on_id":"grimoire-94d","type":"blocks","created_at":"2026-01-19T10:11:27.790023-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-11m","title":"Phase 2: Git repository fetcher","description":"Implement Git repository cloning and updating for source ingestion.\n\n## Requirements\n- Clone repositories to ~/.grimoire/cache/git/\n- Pull updates for existing repos\n- Support specific paths within repos (e.g., just /docs/)\n- Track last fetch time in sources table\n\n## Dependencies\n- github.com/go-git/go-git/v5\n\n## Interface\n```go\ntype GitFetcher interface {\n    Fetch(ctx context.Context, url string) (localPath string, err error)\n    Update(ctx context.Context, localPath string) error\n    ListFiles(localPath string, patterns []string) ([]string, error)\n}\n```\n\n## Acceptance Criteria\n- Can clone public GitHub repos\n- Updates existing clones efficiently\n- File listing with glob patterns works\n- Unit tests pass","status":"closed","priority":2,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:09:47.134199-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:14:39.041023-05:00","closed_at":"2026-01-19T11:14:39.041023-05:00","close_reason":"Git repository fetcher complete with clone, pull, and file listing. All tests pass.","dependencies":[{"issue_id":"grimoire-11m","depends_on_id":"grimoire-5q4","type":"blocks","created_at":"2026-01-19T10:10:16.464056-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-2tt","title":"Phase 3: Vector similarity search with language filter","description":"Implement vector-based semantic search.\n\n## Requirements\n- Query chunks_vec using cosine similarity\n- Filter by language\n- Return top-k results with relevance scores\n- Include chunk metadata (source, section, URL)\n\n## Acceptance Criteria\n- Vector search returns relevant results\n- Language filtering works\n- Performance acceptable (\u003c100ms for typical queries)","status":"closed","priority":2,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:10:28.226345-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:21:37.854697-05:00","closed_at":"2026-01-19T11:21:37.854697-05:00","close_reason":"Implemented SearchChunksVectorWithScore with distance and verified language filtering works correctly. All tests pass.","dependencies":[{"issue_id":"grimoire-2tt","depends_on_id":"grimoire-5q4","type":"blocks","created_at":"2026-01-19T10:11:21.290886-05:00","created_by":"James Ainslie"},{"issue_id":"grimoire-2tt","depends_on_id":"grimoire-t6v","type":"blocks","created_at":"2026-01-19T10:11:21.482248-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-501","title":"Phase 1: Cobra CLI skeleton","description":"Set up the CLI framework using Cobra with command structure.\n\n## Commands\n- grimoire (root)\n  - languages\n    - list\n    - install \u003clang\u003e\n  - ingest [flags]\n  - query \u003ctext\u003e [flags]\n  - sources\n    - list\n    - add\n  - stats\n\n## Flags\n- --lang=\u003clanguage\u003e (filter by language)\n- --limit=\u003cn\u003e (result count)\n- --source=\u003cname\u003e (specific source)\n- --refresh (force re-fetch)\n\n## Dependencies\n- github.com/spf13/cobra\n\n## Acceptance Criteria\n- `grimoire --help` shows all commands\n- Subcommands have proper help text\n- Flag parsing works correctly\n- Placeholder implementations for each command","status":"closed","priority":1,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:09:22.233869-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:12:22.024985-05:00","closed_at":"2026-01-19T11:12:22.024985-05:00","close_reason":"Cobra CLI skeleton complete with all commands: languages, ingest, query, sources, stats. All flags working.","dependencies":[{"issue_id":"grimoire-501","depends_on_id":"grimoire-thz","type":"blocks","created_at":"2026-01-19T10:09:35.031701-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-5q4","title":"Phase 1: SQLite + sqlite-vec storage layer","description":"Implement the core storage layer using SQLite with sqlite-vec for vector search.\n\n## Schema\n- languages table (id, name, display_name)\n- sources table (id, language_id, name, type, url, last_fetched, etag)\n- documents table (id, source_id, path, title, content_hash, fetched_at)\n- chunks table (id, document_id, parent_chunk_id, level, title, content, token_count, embedding)\n- chunks_vec virtual table (sqlite-vec for vector similarity)\n- chunks_fts virtual table (FTS5 for full-text search)\n\n## Dependencies\n- github.com/mattn/go-sqlite3\n- github.com/asg017/sqlite-vec-go\n\n## Acceptance Criteria\n- Database schema created and migrations work\n- CRUD operations for all tables\n- Vector search returns results by cosine similarity\n- FTS5 search works\n- Unit tests pass","status":"closed","priority":1,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:09:06.527924-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:09:19.922879-05:00","closed_at":"2026-01-19T11:09:19.922879-05:00","close_reason":"SQLite + sqlite-vec storage layer complete with FTS5 and vector search. All tests pass.","dependencies":[{"issue_id":"grimoire-5q4","depends_on_id":"grimoire-thz","type":"blocks","created_at":"2026-01-19T10:09:34.771139-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-63v","title":"Phase 2: Hierarchical chunker","description":"Implement hierarchical document chunking strategy.\n\n## Chunk Levels\n1. **Summary** - Document-level summary (title + intro)\n2. **Section** - Major heading sections (h1, h2)\n3. **Paragraph** - Individual paragraphs/code blocks within sections\n\n## Requirements\n- Maintain parent-child relationships between chunks\n- Respect token limits per chunk (~512 tokens max)\n- Preserve context (include heading breadcrumbs)\n- Smart splitting (don't break mid-sentence/code)\n\n## Interface\n```go\ntype Chunk struct {\n    Level       string // 'summary', 'section', 'paragraph'\n    Title       string\n    Content     string\n    TokenCount  int\n    ParentID    *int64\n    Breadcrumbs []string\n}\n\ntype Chunker interface {\n    Chunk(doc *ParsedDocument) ([]Chunk, error)\n}\n```\n\n## Acceptance Criteria\n- Creates hierarchical chunks from parsed docs\n- Token counts accurate\n- Parent relationships correct\n- Unit tests verify hierarchy","status":"closed","priority":2,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:10:03.520193-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:18:54.967037-05:00","closed_at":"2026-01-19T11:18:54.967037-05:00","close_reason":"Hierarchical chunker complete with summary/section/paragraph levels, token counting, and breadcrumbs. All tests pass.","dependencies":[{"issue_id":"grimoire-63v","depends_on_id":"grimoire-6m1","type":"blocks","created_at":"2026-01-19T10:10:16.70466-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-6m1","title":"Phase 2: Markdown parser with heading extraction","description":"Parse Markdown files extracting heading hierarchy for chunking.\n\n## Requirements\n- Parse Markdown to AST\n- Extract heading hierarchy (h1 \u003e h2 \u003e h3...)\n- Preserve code blocks with language tags\n- Handle front matter (YAML)\n- Extract links and references\n\n## Dependencies\n- github.com/yuin/goldmark\n\n## Interface\n```go\ntype ParsedDocument struct {\n    Title    string\n    Headings []Heading\n    Sections []Section\n    Links    []Link\n}\n\ntype Heading struct {\n    Level   int\n    Text    string\n    Anchor  string\n}\n\ntype Section struct {\n    Heading  *Heading\n    Content  string\n    Children []Section\n}\n```\n\n## Acceptance Criteria\n- Parses standard Markdown correctly\n- Heading hierarchy preserved\n- Code blocks retain language info\n- Unit tests with various Markdown samples","status":"closed","priority":2,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:09:54.493302-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:16:23.150399-05:00","closed_at":"2026-01-19T11:16:23.150399-05:00","close_reason":"Markdown parser complete with heading extraction, code blocks, front matter, and section parsing. All tests pass.","dependencies":[{"issue_id":"grimoire-6m1","depends_on_id":"grimoire-thz","type":"blocks","created_at":"2026-01-19T10:10:16.582214-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-6rz","title":"Phase 3: Hybrid search (vector + FTS5)","description":"Combine vector similarity with full-text search for better retrieval.\n\n## Requirements\n- Merge results from vector and FTS5 searches\n- Configurable weighting between vector/text scores\n- Deduplication of results\n- Boost exact matches\n\n## Acceptance Criteria\n- Hybrid search outperforms vector-only on keyword queries\n- Results properly merged and ranked","status":"closed","priority":2,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:10:34.462308-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:23:51.789428-05:00","closed_at":"2026-01-19T11:23:51.789428-05:00","close_reason":"Implemented SearchChunksHybrid using Reciprocal Rank Fusion (RRF) to combine vector similarity and FTS5 results. All tests pass.","dependencies":[{"issue_id":"grimoire-6rz","depends_on_id":"grimoire-2tt","type":"blocks","created_at":"2026-01-19T10:11:21.598347-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-8ut","title":"Phase 5: MCP server implementation","description":"Implement Model Context Protocol server for AI agent integration.\n\n## Tools to Implement\n- query_knowledge - Search best practices\n- get_document - Retrieve full document\n- list_topics - Available topic areas\n- list_languages - Installed languages\n\n## Requirements\n- MCP protocol compliance\n- JSON-RPC communication\n- Tool parameter validation\n- Structured response format\n\n## Acceptance Criteria\n- Claude Code can connect and use tools\n- All 4 tools work correctly\n- Error handling for invalid queries","status":"closed","priority":3,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:10:58.241373-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:28:13.734863-05:00","closed_at":"2026-01-19T11:28:13.734863-05:00","close_reason":"Implemented MCP server with query, list_languages, and list_sources tools using the official Go MCP SDK. Server runs over stdio and supports GRIMOIRE_DB and OLLAMA_URL environment variables for configuration.","dependencies":[{"issue_id":"grimoire-8ut","depends_on_id":"grimoire-u8o","type":"blocks","created_at":"2026-01-19T10:11:27.22494-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-94d","title":"Phase 6: Complete Go language pack","description":"Create and validate the full Go sources manifest.\n\n## Sources (44 total across 6 tiers)\n- Tier 1: Official (Go Wiki, Effective Go, Go Blog, Security)\n- Tier 2: Industry (Uber, Google, CockroachDB, Gruntwork)\n- Tier 3: Books (Go 101, Go by Example, Learn Go with Tests, OWASP)\n- Tier 4: Blogs (Dave Cheney, Three Dots Labs, Ardan Labs, etc.)\n- Tier 5: Curated lists (awesome-go, go-best-practices)\n- Tier 6: Conference talks (GopherCon 2020-2022)\n\n## Acceptance Criteria\n- sources.yaml complete and valid\n- Full ingestion succeeds\n- Retrieval quality validated manually","status":"closed","priority":3,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:11:06.227019-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:29:33.495581-05:00","closed_at":"2026-01-19T11:29:33.495581-05:00","close_reason":"Created Go language pack with 7 git-based sources from Tier 1-3 (go-wiki, go-blog, uber-style-guide, learn-go-with-tests, build-web-app-with-go, owasp-go-scp, go-best-practices). Web sources documented for Phase 4. Test passes.","dependencies":[{"issue_id":"grimoire-94d","depends_on_id":"grimoire-11m","type":"blocks","created_at":"2026-01-19T10:11:27.363519-05:00","created_by":"James Ainslie"},{"issue_id":"grimoire-94d","depends_on_id":"grimoire-r7i","type":"blocks","created_at":"2026-01-19T10:11:27.499215-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-acx","title":"Phase 4: Web scraper with rate limiting","description":"Implement web scraping for blog sources.\n\n## Requirements\n- HTTP client with rate limiting\n- Robots.txt compliance\n- ETag/Last-Modified caching\n- HTML to Markdown conversion\n- CSS selector support for content extraction\n\n## Dependencies\n- github.com/PuerkitoBio/goquery\n\n## Acceptance Criteria\n- Scrapes blog posts correctly\n- Respects robots.txt\n- Caching reduces redundant fetches\n- Rate limiting prevents abuse","status":"open","priority":3,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:10:49.819868-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T10:10:49.819868-05:00","dependencies":[{"issue_id":"grimoire-acx","depends_on_id":"grimoire-6m1","type":"blocks","created_at":"2026-01-19T10:11:27.085521-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-gaz","title":"Grimoire MVP Implementation","description":"Implement the Grimoire AI knowledge base system as specified in docs/plans/2025-01-19-grimoire-design.md\n\n## Goal\nBuild a vector database of programming best practices queryable via MCP server and CLI.\n\n## Phases\n1. Core Foundation - SQLite + sqlite-vec, Ollama embeddings, Cobra CLI\n2. Ingestion - Git fetcher, Markdown parser, Hierarchical chunker\n3. Query - Vector similarity + FTS5 hybrid search\n4. Web Scraping - HTML fetcher, rate limiting, caching\n5. MCP Server - Protocol implementation, Claude Code integration\n6. Go Language Pack - Complete sources.yaml, test pipeline\n7. Polish - Progress reporting, incremental updates, stats","status":"open","priority":1,"issue_type":"epic","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:08:50.086083-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T10:08:50.086083-05:00"}
{"id":"grimoire-r7i","title":"Phase 2: Language pack loader","description":"Load and parse language pack YAML manifests.\n\n## Manifest Format (sources.yaml)\n```yaml\nlanguage: go\ndisplay_name: Go\nsources:\n  - name: uber-style-guide\n    type: git\n    url: https://github.com/uber-go/guide\n    paths:\n      - style.md\n    tier: 2\n  - name: go-wiki\n    type: git\n    url: https://github.com/golang/go\n    paths:\n      - wiki/*.md\n    tier: 1\n  - name: dave-cheney-blog\n    type: web\n    url: https://dave.cheney.net\n    patterns:\n      - /practical-go/*\n    tier: 4\n```\n\n## Requirements\n- Parse YAML manifest files\n- Validate source definitions\n- Support both git and web source types\n- Store sources in database\n\n## Acceptance Criteria\n- Can load and parse sources.yaml\n- Validation catches malformed manifests\n- Sources correctly stored in DB\n- Unit tests for parsing","status":"closed","priority":2,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:10:10.934753-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:17:37.481122-05:00","closed_at":"2026-01-19T11:17:37.481122-05:00","close_reason":"Language pack loader complete with YAML parsing and validation. All tests pass.","dependencies":[{"issue_id":"grimoire-r7i","depends_on_id":"grimoire-5q4","type":"blocks","created_at":"2026-01-19T10:10:16.827083-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-t6v","title":"Phase 1: Ollama embedding client","description":"Implement client for generating embeddings via Ollama local server.\n\n## Requirements\n- Connect to Ollama API (default: localhost:11434)\n- Use nomic-embed-text model (384 dimensions)\n- Batch embedding support for efficiency\n- Error handling for Ollama not running\n- Configurable endpoint URL\n\n## Interface\n```go\ntype Embedder interface {\n    Embed(ctx context.Context, text string) ([]float32, error)\n    EmbedBatch(ctx context.Context, texts []string) ([][]float32, error)\n}\n```\n\n## Acceptance Criteria\n- Can generate embeddings from text\n- Batch operations work efficiently\n- Graceful error when Ollama unavailable\n- Unit tests with mock server","status":"closed","priority":1,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:09:14.014956-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:11:09.372227-05:00","closed_at":"2026-01-19T11:11:09.372227-05:00","close_reason":"Ollama embedding client complete with single and batch embedding support. All tests pass.","dependencies":[{"issue_id":"grimoire-t6v","depends_on_id":"grimoire-thz","type":"blocks","created_at":"2026-01-19T10:09:34.902085-05:00","created_by":"James Ainslie"}]}
{"id":"grimoire-thz","title":"Phase 1: Initialize Go module and project structure","description":"Set up the Go module and create the initial project structure.\n\n## Tasks\n- Initialize go.mod with module name `grimoire`\n- Create directory structure:\n  - cmd/grimoire/\n  - cmd/grimoire-mcp/\n  - internal/store/\n  - internal/embed/\n  - internal/ingest/\n  - internal/source/git/\n  - internal/source/web/\n  - internal/parse/\n  - internal/chunk/\n  - internal/query/\n  - languages/go/\n- Add .gitignore for Go projects\n- Set up basic Makefile or build commands\n\n## Acceptance Criteria\n- `go build ./...` succeeds\n- Directory structure matches design doc","status":"closed","priority":1,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:08:58.387456-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:03:21.469735-05:00","closed_at":"2026-01-19T11:03:21.469735-05:00","close_reason":"Go module initialized, directory structure created, build succeeds"}
{"id":"grimoire-u8o","title":"Phase 3: CLI query command","description":"Implement the query command for CLI.\n\n## Usage\n```bash\ngrimoire query \"error handling best practices\"\ngrimoire query \"context cancellation\" --lang=go --limit=5\n```\n\n## Output Format\n- Source name and section\n- Relevance score\n- Content snippet\n- URL/path\n\n## Acceptance Criteria\n- Query returns formatted results\n- Flags work correctly\n- Empty results handled gracefully","status":"closed","priority":2,"issue_type":"task","owner":"42301770+jamesainslie@users.noreply.github.com","created_at":"2026-01-19T10:10:43.163134-05:00","created_by":"James Ainslie","updated_at":"2026-01-19T11:25:25.794854-05:00","closed_at":"2026-01-19T11:25:25.794854-05:00","close_reason":"Implemented CLI query command with hybrid search, language filter, and configurable database/Ollama URL. All tests pass.","dependencies":[{"issue_id":"grimoire-u8o","depends_on_id":"grimoire-6rz","type":"blocks","created_at":"2026-01-19T10:11:21.722594-05:00","created_by":"James Ainslie"},{"issue_id":"grimoire-u8o","depends_on_id":"grimoire-501","type":"blocks","created_at":"2026-01-19T10:11:21.847604-05:00","created_by":"James Ainslie"}]}
